{"componentChunkName":"component---src-templates-project-js-content-file-path-src-markdowns-projects-palimpzest-mdx","path":"/projects/palimpzest/","result":{"data":{"mdx":{"frontmatter":{"title":"A Declarative System for Optimizing AI Workloads","image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAPoAAAD6AG1e1JrAAADnUlEQVR42mNg0OjBi/rwyUIpzS4ognEZ1VqkTQokTCoYVduYjTsRUlg0A5F6J4NGp5RSdaWDb4GT0f5Gkd29Is3zgw6vsM9J9eqpsOivs3b2T0GoBxoHYTGqNLrZx6/btMrSIivZQ/vPVN7/i9jPVonssTONigjbOUdtZZZuprZncYZdfpItqmbNrrzyKQ0NnUFB+VNnzo3P8XhbIfRvAu/FGqEP7IGzPMKs2vPvThXfH2O+zcY0p8zdyDEJoZnfsCMruqjZ2C8/v9HOK0ViyQSTRb3rO+LXB6hGcXvZb+4J74kvqna7mSB3Xtm7UMi90M8K5EeoZtUmL9/icneLQ036s5PcbS7MVJ3QrHdyUd7yXh89+9PF8v+ahdxtA1Y5mkYH2OfE2E6udWCQKYcGmIpV+cVC7Q9umjdttLp03ZQOLQjc3ipaXSuU3uHrGrksz7o0yqor03J7sc5cd01jWfNWF0Vw6II1q1pXLPb31uGw3pEoP1fCUsivQC86Oz/NPc7baFunytY2oUlOmmHSZueE3DK43Wo5PFLNNJi0OqDOZlStTk31WtKunxliGR9o1ZypG6WrtS1O+FUZ+9ZwgYlu0rM43XO5XVNZXAVZHWRlHP0rk1Rty2GhLZSwskRsc7Hw3CipRT4KM1zly03VN4aKVBmrR2trykk5iOv6aXmHL0+QnpwgX55iJLdxJotOMyyRCCWsChLXFjOZw+3Vxu6Zze5mzG2rKGKhK2YuKeErUNcZPKXqimTwXhmnpREKs1I0C9ViGVXgmgUTQrU0WZnsmBns2WSDlBvKF8cq7y8Qfz5RsMDDUL2vXdGjoNYksUw/riveKMjFaYVAMIdKI9TZfIq5GgqWEjF5upUlcTcnaU1pmuwhfzhZ7GSk0sQgxcrgAOPpfYLJTVGhNieTpdqzmtb6VmvKlyNSGJdFtX9Lqun2mRITe20kPeNYHa9GSv1PV9rqrbEoW3qFu7F8aKGZX25HUXJuauu9uAZu1SaEZhWJvItp+ixsDhXMLh/4fC5y+j7k8V6nbn64VKwi3KHMxXSbk/F+04w7RR2nY+pD1dKgmQyWSzo55StYRaPrbfUPyDgvZvM8pGZf4qS1pkpFOaqhKC1jkoNDnp+TrFw2g3q7mGEFkmZ4TgaSUoWaGo7+VrreRrrzXTQOqloJ29b4pUxm0Gzj0KgQUapHyfwomRtuilob0AYelQZxlVqoOJoamGZsBQ3WcgMDAQDm8HHtgeTaHgAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/8f1face2aa8a892b9a7a7aee1c208b25/e306d/palimpzest.webp","srcSet":"/static/8f1face2aa8a892b9a7a7aee1c208b25/99d55/palimpzest.webp 256w,\n/static/8f1face2aa8a892b9a7a7aee1c208b25/3591c/palimpzest.webp 512w,\n/static/8f1face2aa8a892b9a7a7aee1c208b25/e306d/palimpzest.webp 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/8f1face2aa8a892b9a7a7aee1c208b25/fbdba/palimpzest.avif 256w,\n/static/8f1face2aa8a892b9a7a7aee1c208b25/1c52e/palimpzest.avif 512w,\n/static/8f1face2aa8a892b9a7a7aee1c208b25/6bf3d/palimpzest.avif 1024w","type":"image/avif","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":1024}}}}}},"pageContext":{"id":"1a55d3ca-2ed1-534a-acd5-25172f28bd9b","frontmatter":{"title":"A Declarative System for Optimizing AI Workloads","link":"/palimpzest","summary":"A long-standing goal of data management systems has been to build systems which can compute quantitative insights over large corpora of unstructured data in a cost-effective manner. Until recently, it was difficult and expensive to extract facts from company documents, data from scientific papers, or metrics from image and video corpora. Today's models can accomplish these tasks with high accuracy. However, a programmer who wants to answer a substantive AI-powered query must orchestrate large numbers of models, prompts, and data operations. For even a single query, the programmer has to make a vast number of decisions such as the choice of model, the right inference method, the most cost-effective inference hardware, the ideal prompt design, and so on. The optimal set of decisions can change as the query changes and as the rapidly-evolving technical landscape shifts. In this paper we present Palimpzest, a system that enables anyone to process AI-powered analytical queries simply by defining them in a declarative language. The system uses its cost optimization framework -- which explores the search space of AI models, prompting techniques, and related foundation model optimizations -- to implement the query plan with the best trade-offs between runtime, financial cost, and output data quality.  We describe the workload of AI-powered analytics tasks, the optimization methods that Palimpzest uses, and the prototype system itself. We evaluate Palimpzest on tasks in Legal Discovery, Real Estate Search, and Medical Schema Matching. We show that even our simple prototype offers a range of appealing plans, including one that is 3.3x faster and 2.9x cheaper than the baseline method, while also offering better data quality. With parallelism enabled, Palimpzest can produce plans with up to a 90.3x speedup at 9.1x lower cost relative to a single-threaded GPT-4 baseline, while obtaining an F1-score within 83.5% of the baseline. These require no additional work by the user.","status":"current","image":"../../images/projects/palimpzest/palimpzest.png"}}},"staticQueryHashes":["3649515864","465186600"],"slicesMap":{}}